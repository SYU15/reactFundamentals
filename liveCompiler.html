<!DOCTYPE html>
<html>
  <head>
    <script src="http://fb.me/react-0.12.2.js"></script>
    <script src="http://fb.me/JSXTransformer-0.12.2.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.5/css/bootstrap.css">
  </head>
  <body>
    <script type="text/jsx">
      var Transformer = React.createClass({
        getInitialState:function(){
          return {
            input: '/* add jsx here */',
            output: '',
            err: ''
          }
        },
        update: function(e){
          var code = e.target.value;
          try {
            this.setState({
              output: JSXTransformer.transform(code).code,
              err: ''
            })
          }
          catch(err){
            this.setState({
              err: err.message
            })
          }
        },
        render:function(){
          /* added 'container' class just for jsbin display*/
          return (
              <div className="container">
                <div className="row">
                  <p className="alert alert-danger">&nbsp;{this.state.err}</p>
                </div>
                <div className="row">
                  <textarea defaultValue={this.state.input} className="col-sm-6 input-lg" onChange={this.update} />
                  <pre className="col-sm-6 input-lg">{this.state.output}</pre>
                </div>
              </div>
            )
        }
      });

      React.render(<Transformer />, document.body);

    </script>

</body>
</html>
